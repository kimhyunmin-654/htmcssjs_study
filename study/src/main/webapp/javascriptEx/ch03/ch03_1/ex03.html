<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>
<body>

	<h3>객체 - 생성</h3>
	
	<script type="text/javascript">
	/*
		- 생성자 함수는 값을 반환하면 안된다.
		  이는 생성자의 기본 동작을 훼손한다.
		- 생성자 함수는 값을 반환하지 않으면
		  완성된 인스턴스가 바인딩 된 this가 암묵적로 반환된다.
	*/
	
	// 생성자 함수
	function User(name, age) { 
		this.name = name; 
		this.age = age;
		
		
		this.state = function() {
			return this.age >= 19 ? '성인' : '미성년자';
		};
		
		// 값을 반환하지 않으면 인스턴스가 바인딩된 this가 반환
	}
	
	// 객체 생성
	var obj = new User('김자바', 21);
	console.log(obj.name, obj.state());
	
	// 값을 반환하는 생성자 함수
	function User2(name, age) { 
		this.name = name; 
		this.age = age;
		
		
		this.state = function() {
			return this.age >= 19 ? '성인' : '미성년자';
		};
		
		return [];
	}
	
	var obj2 = new User2('김자바', 21);
	console.log(obj2.name); // undefined
	console.log(obj2); // []
	
	// 원시값을 반환하는 경우
	function User3(name, age) { 
		this.name = name; 
		this.age = age;
		
		
		this.state = function() {
			return this.age >= 19 ? '성인' : '미성년자';
		};
		// 명시적으로 원시값을 반환하면 원시값은 무시되고 this가 반환된다.
		return 100;
	}
	
	var obj3 = new User3('김자바', 21);
	console.log(obj3.name); // 김자바	
	
	
	</script>
	

</body>
</html>