<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
<style type="text/css">
.image-viewer {
	width: 200px;
	height: 200px;
	margin-top: 5px; margin-bottom: 5px;
}

.image-viewer img {
	max-width: 100%; max-height: 100%;
}

</style>

</head>
<body>

	<h3>이미지 미리보기</h3>
	
	<div style="margin: 5px;">
		<form name="frm">
			<p> <input type="file" name="selectFile" onchange="imagePreview(this);">
			<div class="image-viewer">
				<img id="imgPreView">
			</div>
			<p> <button type="button" onclick="sendOk();">등록</button></p>
		</form>
	</div>
	
	<script type="text/javascript">
	function sendOk() {
		alert('ok..');
	}
	
	function imagePreview(inputEL) {
		const file = inputEL.files[0];
		
		if(! inputEL.value) {
			inputEL.focus();
			return;
		}
		
		if(! file.type.match('image.*')) {
			inputEL.focus();
			return;
		}
		
		let reader = new FileReader();
		reader.onload = function(e) {
			const imgEL = document.getElementById('imgPreView');
			imgEL.setAttribute('src', e.target.result);
		};
		reader.readAsDataURL(file);
	}
	
	</script>

</body>
</html>