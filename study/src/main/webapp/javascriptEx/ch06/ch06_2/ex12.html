<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">

<style type="text/css">
* { margin: 0; padding: 0;}

.box {
	border: 1px dotted grayd;
	width: 300px; height: 300px;
	margin: 30px; padding: 30px;
	
	overflow: auto;
	white-space: pre;
}

</style>

</head>
<body>

	<h3>scroll bar</h3>

	<div class="box">
	- scroll 이벤트
      1) document view 나 element가 스크롤 될 때 발생하는 이벤트
      2) scrollTop
         요소의 수직 스크롤 바 위치를 반환 받거나 설정
      3) scrollLeft
         요소의 수평 스크롤 바 위치를 반환 받거나 설정
      
   - clientHeight / offsetHeight / scrollHeight 
     1) clientHeight
        사용자에게 보여지는(화면 영역의) element 높이 + 패딩
        패딩 포함 O, 테두리/스크롤바/마진 포함 X
     2) clientWidth
        현재 보여지는 요소의 너비 값
        패딩 포함 O, 테두리/스크롤바/마진 포함 X
     3) offsetHeight
        사용자에게 보여지는 element의 높이 + 패딩 + 테두리 + 스크롤바
        패딩/테두리/스크롤바 O, 마진 X
     4) offsetWidth
        사용자에게 보여지는 element의 폭 + 패딩 + 테두리 + 스크롤바
        패딩/테두리/스크롤바 O, 마진 X
     5) scrollHeight
        (보이지 않는 부분까지 포함한) element의 전체 높이 + 패딩 + 테두리 (CSS로 element의 높이를 지정할 때 정해지는 높이)
        패딩/테두리 O, 마진 X
     6) scrollWidth
        scroll되는 부분을 포함한 실제 요소의 너비값
        패딩/테두리 O, 마진 X
      
   - window.innerHeight / window.scrollY
     1) window.innerHeight
        : 브라우저에서 실제로 표시되고 있는 영역의 높이
     2) window.scrollY
        : 스크롤이 Y축으로 얼마만큼 이동했는지 나타내는 값     
	</div>
	<hr>
	
	<div class="result"></div>

	<script type="text/javascript">
		const boxEL = document.querySelector('.box');
		const resultEL = document.querySelector('.result');
		let out;
		
		let st = boxEL.scrollTop;
		let ch = boxEL.clientHeight;
		let oh = boxEL.offsetHeight;
		let sh = boxEL.scrollHeight;
		
		out = `scrollTop : ${st}<br>`;
		out += `clientHeight : ${ch}<br>`;
		out += `offsetHeight : ${oh}<br>`;
		out += `scrollHeight : ${sh}<br>`;
		
		resultEL.innerHTML = out;
		
		boxEL.addEventListener('scroll', function(e) {
			const { clientHeight, scrollTop, scrollHeight} = e.target;
			
			// console.log(clientHeight, scrollTop, scrollHeight);
			if(Math.ceil(clientHeight + scrollTop) >= scrollHeight) {
				alert('마지막으로 이동');
			}
			
		});

		
	</script>

</body>
</html>