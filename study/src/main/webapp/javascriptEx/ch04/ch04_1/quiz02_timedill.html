<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">


</head>
<body>

	<div>
		<div class="container">
			<h2>남은 시간</h2>
			<div id="countdown"></div>
		</div>
	</div>

<script type="text/javascript">
	const lastDateStr = '2025-05-29 17:00:00';
	
	// 문자열을 Date로 변환
	function parseDateString(dateStr) {
		/*
		let y = parseInt(dateStr.substring(0,4));
		let m = parseInt(dateStr.substring(5,7));
		let d = parseInt(dateStr.substring(8,10));
		let ho = parseInt(dateStr.substring(11,13));
		let mi = parseInt(dateStr.substring(14,16));
		let se = parseInt(dateStr.substring(17));
			
		return new Date(y, m-1, d, ho, mi, se);
		*/
		// '2025-05-29 17:00:00' -> '2025-05-29T00:00:00' : ISO 8601 표준형식
		return new Date(dateStr.replace(' ', 'T'));
	}
	
	function updateCountdown() {
		const lastDate = parseDateString(lastDateStr);
		const countdownEl = document.getElementById('countdown');
		
		const now = new Date();
		const diffMs = lastDate - now;
		
		if(diffMs <= 0) {
			countdownEl.innerHTML = '기한이 지났습니다.';
			clearInterval(timer);
			return;
		}
		
		let days = Math.floor(diffMs / (1000 * 60 * 60 * 24));
		let hours = Math.floor((diffMs % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
		let minutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));   
		let seconds = Math.floor((diffMs % (1000 * 60)) / 1000);
		
		hours = hours > 9 ? hours : '0' + hours;
		minutes = minutes > 9 ? minutes : '0' + houminutesrs;
		seconds = seconds > 9 ? seconds : '0' + seconds;
		
		let out = '';
		if(days > 0) {
			out = `${days}일 `;
		}
		out += `${hours}:${minutes}:${seconds} `;
		countdownEl.innerHTML = out;
		
	}
	updateCountdown();
	const timer = setInterval(updateCountdown, 1000);
		
</script>


</body>
</html>